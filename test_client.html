<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Client</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmpeg/0.1/jsmpg.js"></script>
</head>
<style>
  canvas {
    height: 480px;
    width: 960px;
    margin: auto;
    position: relative;
    display: block;
    z-index: -1;
    /*top: 420px;*/
    left: 7px;
  }

  .tv {
    /*background: url(/img/tv.png) no-repeat center top; */
    /*width: 910px;*/
    /*height: 820px;*/
    background-size: 1168px;
    position: relative;
    margin: auto;
    /*top: -280px;*/
  }
</style>

<body>

  <div class="tv">
    <canvas id="canvas" width="640" height="360"></canvas>
  </div>


  <script>
    var canvas = document.querySelector('canvas');

    setTimeout(function () {
      // var ws = new WebSocket('ws://localhost:9797');
      var ws = new WebSocket('ws://142.93.33.84/wsapp');
      var player = new jsmpeg(ws, {
        canvas: canvas
      });
    }, 0);


    var ctx = document.getElementById("canvas").getContext("2d");
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    var img = new Image();
    img.onload = function () {
      ctx.drawImage(img,
        canvas.width / 2 - img.width / 2,
        canvas.height / 2 - img.height / 2);
      // ctx.drawImage(img, 0, 0);
    };
    img.src = "/img/loading.png"; 
  </script>
</body>

</html>
